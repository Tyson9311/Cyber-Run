<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Cyber Run: Neon Escape</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="styles.css" rel="stylesheet">
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
  <div id="menu" class="menu">
    <h1>⚡ Cyber Run ⚡</h1>
    <p class="subtitle">Single-player neon endless runner</p>
    <button id="startBtn">Start Game</button>
    <button id="leaderboardBtn">Leaderboard</button>
  </div>

  <div id="game" style="display:none;"></div>
  <div id="leaderboard" class="leaderboard" style="display:none;"></div>

  <div id="footer">Made by Darian</div>

  <script>
    // Telegram WebApp init + context
    const tg = window.Telegram?.WebApp;
    tg && tg.ready && tg.ready();

    const playerId = tg?.initDataUnsafe?.user?.id || "guest";
    const playerName = tg?.initDataUnsafe?.user?.username || tg?.initDataUnsafe?.user?.first_name || "Player";
    const avatarUrl = tg?.initDataUnsafe?.user?.photo_url || null;
    const groupId = tg?.initDataUnsafe?.chat?.id || "default";

    window.gameContext = { playerId, playerName, avatarUrl, groupId };
  </script>

  <script src="https://cdn.jsdelivr.net/npm/phaser@3.70.0/dist/phaser.js"></script>
  <script type="module" src="main.js"></script>
  <script type="module" src="leaderboard.js"></script>
</body>
</html>
